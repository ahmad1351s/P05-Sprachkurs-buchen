(function($){var defaultSettings={logo_align:'left',links_align:'left',socialBar_align:'left',searchBar_align:'right',trigger:'hover',effect:'fade',effect_speed:400,sibling:!0,outside_click_close:!0,top_fixed:!1,sticky_header:!1,sticky_header_height:200,menu_position:'horizontal',full_width:!0,mobile_settings:{collapse:!1,sibling:!0,scrollBar:!0,scrollBar_height:400,top_fixed:!1,sticky_header:!1,sticky_header_height:200}};$.fn.megaMenu=function(settings){settings=$.extend({},defaultSettings,settings||{});return this.each(function(){var $this=$(this),$ul='ul',$li='li',$a='a',menu_logo=$this.find('.menu-logo'),menu_logo_li=menu_logo.children($li),menu_links=$this.find('.menu-links'),menu_links_li=menu_links.children($li),menu_socialBar=$this.find('.menu-social-bar'),menu_searchBar=$this.find('.menu-search-bar'),mobile_trigger_button='.menu-mobile-collapse-trigger',mobile_dropDown_trigger='.mobileTriggerButton',desktop_dropDown_trigger='.desktopTriggerButton',activeClass='active',activeTrigger='activeTrigger',activeTriggerMobile='activeTriggerMobile',dropDown='.drop-down-multilevel, .drop-down, .drop-down-tab-bar',desktopTopFixed='desktopTopFixed',mobileTopFixed='mobileTopFixed',fullWidth='menuFullWidth',Canvas;Canvas={menu_full_width:function(){if(settings.full_width===!0){$this.addClass(fullWidth)}},logo_Align:function(){if(settings.logo_align==='right'){menu_logo.addClass('menu-logo-align-right')}},links_Align:function(){if(settings.links_align==='right'){menu_links.addClass('menu-links-align-right')}},social_bar_Align:function(){if(settings.socialBar_align==='right'){menu_socialBar.addClass('menu-social-bar-right')}},search_bar_Align:function(){if(settings.searchBar_align==='left'){menu_searchBar.addClass('menu-search-bar-left')}},collapse_trigger_button:function(){if(settings.mobile_settings.collapse===!0){menu_logo_li.append('<div class="menu-mobile-collapse-trigger">'+'<span></span>'+'</div>');var drop_down=menu_links.add(menu_socialBar);drop_down.hide(0);menu_searchBar.addClass(activeClass);$this.find(mobile_trigger_button).on('click',function(){if(drop_down.is(':hidden')){$(this).addClass(activeClass);drop_down.show(0)}else{$(this).removeClass(activeClass);drop_down.hide(0)}
return!1})}},switch_effects:function(){switch(settings.effect){case 'fade':$this.find(dropDown).addClass('effect-fade');break;case 'scale':$this.find(dropDown).addClass('effect-scale');break;case 'expand-top':$this.find(dropDown).addClass('effect-expand-top');break;case 'expand-bottom':$this.find(dropDown).addClass('effect-expand-bottom');break;case 'expand-left':$this.find(dropDown).addClass('effect-expand-left');break;case 'expand-right':$this.find(dropDown).addClass('effect-expand-right');break}},transition_delay:function(){$this.find(dropDown).css({'webkitTransition':'all '+settings.effect_speed+'ms ease ','transition':'all '+settings.effect_speed+'ms ease '})},hover_trigger:function(){if(settings.trigger==='hover'){Canvas.transition_delay();$this.find(dropDown).parents($li).addClass('hoverTrigger');Canvas.switch_effects()}},mobile_trigger:function(){$this.find(dropDown).prev($a).append('<div class="mobileTriggerButton"></div>');$this.find(mobile_dropDown_trigger).on('click',function(){var elem=$(this),parents=elem.parents($a),drop_down=parents.next(dropDown);if(drop_down.is(':hidden')){if(settings.mobile_settings.sibling===!0){elem.parents($this).siblings($ul+','+$li).find(dropDown).hide(0);elem.parents($this).siblings($li).removeClass(activeTriggerMobile);elem.parents($this).siblings($ul).find($li).removeClass(activeTriggerMobile)}
parents.parent($li).addClass(activeTriggerMobile);drop_down.show(0)}else{parents.parent($li).removeClass(activeTriggerMobile);drop_down.hide(0)}
return!1});$this.find('i.fa.fa-indicator').on('click',function(){return!1})},click_trigger:function(){if(settings.trigger==='click'){$this.find(dropDown).prev($a).append('<div class="desktopTriggerButton"></div>');$this.find(dropDown).parents($li).addClass('ClickTrigger');Canvas.switch_effects();Canvas.transition_delay();$this.find(desktop_dropDown_trigger).on('click',function(event){event.stopPropagation();event.stopImmediatePropagation();var elem=$(this),parents=elem.parents($a),drop_down=parents.next(dropDown);if(!(drop_down.hasClass(activeClass))){if(settings.sibling===!0){elem.parents($this).siblings($ul+','+$li).find(dropDown).removeClass(activeClass);elem.parents($this).siblings($li).removeClass(activeTrigger);elem.parents($this).siblings($ul).find($li).removeClass(activeTrigger)}
parents.parent($li).addClass(activeTrigger);drop_down.addClass(activeClass)}else{parents.parent($li).removeClass(activeTrigger);drop_down.removeClass(activeClass)}})}},scroll_bar:function(){if(settings.mobile_settings.scrollBar===!0){menu_links.css({'maxHeight':settings.mobile_settings.scrollBar_height+'px','overflow':'auto'})}},top_Fixed:function(){if(settings.top_fixed===!0){$this.addClass(desktopTopFixed)}
if(settings.mobile_settings.top_fixed){$this.addClass(mobileTopFixed)}},sticky_Header:function(){var $window=$(window),scrollFlag=!0,scrollFlagMobile=!0;if(!($this.find(dropDown).is(':hidden'))){$window.off('scroll');if(settings.sticky_header===!0&&settings.menu_position==='horizontal'&&settings.top_fixed===!1){$window.on('scroll',function(){if($window.scrollTop()>settings.sticky_header_height){if(scrollFlag===!0){$this.fadeOut(200,function(){$(this).addClass(desktopTopFixed).fadeIn(200)});scrollFlag=!1}}else{if(scrollFlag===!1){$this.fadeOut(200,function(){$(this).removeClass(desktopTopFixed).fadeIn(200)});scrollFlag=!0}}})}}else{$window.off('scroll');if(settings.mobile_settings.sticky_header===!0&&settings.top_fixed===!1){$window.on('scroll',function(){if($window.scrollTop()>settings.mobile_settings.sticky_header_height){if(scrollFlagMobile===!0){$this.addClass(mobileTopFixed);scrollFlagMobile=!1}}else{if(scrollFlagMobile===!1){$this.removeClass(mobileTopFixed);scrollFlagMobile=!0}}})}}},position:function(){if(settings.menu_position==='vertical-left'){$this.addClass('vertical-left')}else if(settings.menu_position==='vertical-right'){$this.addClass('vertical-right')}}};Canvas.menu_full_width();Canvas.logo_Align();Canvas.links_Align();Canvas.social_bar_Align();Canvas.search_bar_Align();Canvas.collapse_trigger_button();Canvas.hover_trigger();Canvas.mobile_trigger();Canvas.click_trigger();Canvas.scroll_bar();Canvas.top_Fixed();Canvas.sticky_Header();Canvas.position();$(window).resize(function(){Canvas.sticky_Header()})})}}(jQuery))